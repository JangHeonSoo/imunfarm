---
import { sluglify, getCategories } from '@/utils'
export async function getStaticPaths() {
	const categories = await getCategories()

	return categories.flatMap((category: string) => {
		return {
			params: {
				category: sluglify(category.toLowerCase())
			}
		}
	})
}
const params = Astro.params
// Encode the URL to handle non-ASCII characters (like Korean) in redirect headers
return Astro.redirect(encodeURI(`/${params.category}/1`))
---
